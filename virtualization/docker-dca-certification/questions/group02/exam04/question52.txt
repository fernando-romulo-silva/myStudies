Which of the following modes can be used for service discovery of a Docker swarm service? 
(select 2 correct answers)

A)
Ingress with --endpoint-mode ingress

B)
Network Address Translation(NAT) with --endpoint-mode nat

C)
Virtual IP (VIP) with --endpoint-mode vip

D)
Overlay with --endpoint-mode overlay

E)
DNS Round-Robin with --endpoint-mode dnsrr

































Answers C and E

Docker uses embedded DNS to provide service discovery for containers running on a single Docker engine and tasks running in a Docker swarm.

The Docker engine checks if the DNS query belongs to a container or service on each network that the requesting container belongs to. 
If it does, then the Docker engine looks up the IP address that matches the name of a container, 
task, or service in a key-value store and returns that IP or service Virtual IP (VIP) back to the requester. 
Here, all nodes participate in a network called routing mesh.

https://success.docker.com/article/ucp-service-discovery-swarm

DNS round robin (DNS RR) load balancing is another load balancing option for services (configured with –endpoint-mode dnsrr). 
In DNS RR mode a VIP is not created for each service. 
The Docker DNS server resolves a service name to individual container IPs in round robin fashion.

https://success.docker.com/article/networking

To use an external load balancer without the routing mesh, set –endpoint-mode to dnsrr instead of the default value of vip.

In this case, there is not a single virtual IP. Instead, Docker sets up DNS entries for the service such that a DNS query 
for the service name returns a list of IP addresses, and the client connects directly to one of these. 

You are responsible for providing the list of IP addresses and ports to your load balancer. 
See Configure service discovery.

https://docs.docker.com/engine/swarm/ingress/#without-the-routing-mesh