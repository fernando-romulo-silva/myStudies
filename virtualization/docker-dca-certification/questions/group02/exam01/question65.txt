What behavior is expected when a service is created with the following command: 

$ docker service create –publish 8080:80 nginx ?

A)
All nodes in the cluster will listen on port 80 and forward to port 8080 in the container.

B)
Only a single node in the cluster will listen on port 80 and forward to port 8080 in the container.

C)
Only a single node in the cluster will listen on port 8080 and forward to port 80 in the container.

D)
All nodes in the cluster will listen on port 8080 and forward to port 80 in the container.




































Answer D

By default, ports are published using ingress mode.

This means that the swarm routing mesh makes the service accessible at the published port on every node regardless 
if there is a task for the service running on the node.

However, if you set host mode explicitly, the port is only bound on nodes where the service is running, 
and a given port on a node can only be bound once. 

You can only set the publication mode using the long syntax.
You can publish service ports to make them available externally to the swarm using the –publish flag.

The –publish flag can take two different styles of arguments.

The short version is positional and allows you to specify the published port and target port separated by a colon (:).
Here, the published port is 8080 and the target port is of the container is 80.

$ docker service create –name my_web –replicas 3 –publish 8080:80 nginx

There is also a long format, which is easier to read and allows you to specify more options.

$ docker service create –name my_web –replicas 3 –publish published=8080,target=80 nginx
