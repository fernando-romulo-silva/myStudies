Which flags for a service would allow a container to consume more than 2 GB of memory only 
when there is no memory contention but would also prevent a container from consuming 
more than 4GB of memory in any other case?

A)
--memory-swap 4GB --limit-memory 2GB

B)
--memory-swap 2GB --limit-memory 4GB

C)
--memory 4GB --memory-reservation 2GB

D)
--limit-memory 2GB --reserve-memory 4GB

















































Answer C

Memory reservation is a kind of memory soft limit that allows for greater sharing of memory. 
Under normal circumstances, containers can use as much of the memory as needed and are constrained only by the hard limits set with the -m/–memory option.
When memory reservation is set, Docker detects memory contention or low memory and forces containers to restrict their consumption to a reservation limit.

To set the maximum amount of memory the container can use one of the following.
-m or –memory=

To specify a soft limit which is activated when Docker detects contention or low memory on the host machine use the following flag:
–memory-reservation

If you use –memory-reservation, it must be set lower than –memory for it to take precedence.
Because it is a soft limit, it does not guarantee that the container doesn’t exceed the limit.

$ docker run -it --memory="1g" ubuntu

 